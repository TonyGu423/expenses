<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>invoice</title>
</head>
<body>

  <!-- Fixed navbar -->
  <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#">Invoice</a>
      </div>
      <div id="navbar" class="navbar-collapse collapse">
        <ul class="nav navbar-nav navbar-right">
          <li class="active"><a href="/">Home</a></li>
          <li><a href="/about">About</a></li>
           {{> loginButtons}}
        </ul>
      </div><!--/.nav-collapse -->
    </div>
  </nav>

  <div class="container">
    {{#if currentUser}}
      {{> invoiceForm}}

      <h1>Expenses</h1>
      {{> invoiceTable}}
    {{/if}}
  </div>
</body>

<template name="invoiceTable">
  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th>Description</th>
        <th>Amount</th>
        <th>Created</th>
      </tr>
    </thead>
    <tbody>
      {{#each expenses}}
        <tr>
          <td>{{ description }}</td>
          <td>{{ amount }}€</td>
          <td>{{ dateToPass(createdAt) }} <br/><small>{{ displayOwner(owner) }}</small></td>
        </tr>
      {{/each}}
    </tbody>
  </table>
</template>

<template name="invoiceForm">
  <form class="form-inline">
    <div class="form-group">
      <label class="sr-only" for="inputDescription">Description</label>
      <input type="text" class="form-control" id="inputDescription" placeholder="Description">
    </div>
    <div class="form-group">
      <label class="sr-only" for="inputAmount">Amount (in Euros)</label>
      <div class="input-group">
        <div class="input-group-addon">€</div>
        <input type="number" step="any" class="form-control" id="inputAmount" placeholder="Amount">
      </div>
    </div>
    <div class="form-group">
      <label class="sr-only" for="inputCategory">Category</label>
      <select class="form-control" id="inputCategory">
        {{#each categories}}
          <option value="{{ _id }}">{{ name }}</option>
        {{/each}}
      </select>
    </div>
    <button type="submit" class="btn btn-primary" id="add_expense">Add Expense</button>
  </form>
</template>
